<!DOCTYPE html>
<html>
	<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Robert Utterback | COMP 345, Spring 2023, Project 4</title>
<meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
">

     <link rel="shortcut icon" href="https://robertutterback.github.io/assets/img/favicon.ico">
		 <link rel="stylesheet" href="https://robertutterback.github.io/assets/css/main.css">
		 <!-- <link rel="shortcut icon" href="/assets/img/favicon.ico"> -->
     <!-- <link rel="stylesheet" href="/assets/css/main.css"> -->

     <link rel="canonical" href="https://robertutterback.github.io/courses/comp345/s23/proj4/">
</head>

	<body>
		<style type="text/css">
			.schedule {
			width: 100%;
			}
			table {  
			width: auto;
			margin: auto;
			}
			blockquote {
			padding: .35rem;
			font: 12px;
			}
			blockquote footer {
			font-size: 8px;
			}
		</style>
		<div class="course-content">
			<div class="wrapper">
				<header class="post-header">
					<h1 class="post-title">COMP 345, Spring 2023, Project 4</h1>
					<!-- <h5 class="class-description"></h5> -->
				</header>
				<h2 id="project-4-file-system-checker">Project 4: File System Checker</h2>

<p>For this project you’ll get some real file system programming
experience by creating a file system checker.As in past projects, the
details are on our textbook authors’ Github, in the <a href="https://github.com/remzi-arpacidusseau/ostep-projects/tree/master/filesystems-checker">ostep-projects
repo</a></p>

<h2 id="your-program">Your Program</h2>

<p>Write all your code in one file, <code>xcheck.c</code>. You can compile this
program with gcc, or use a Makefile. Try adapting a Makefile from a
previous project.</p>

<h3 id="xv6-notes">xv6 Notes</h3>

<p>We will be using the x86 version of xv6, revision 8. You can find that version of the bok <a href="https://pdos.csail.mit.edu/6.828/2014/xv6/book-rev8.pdf">here</a>.</p>

<p>You will also need the xv6 souce code. You should clone it from git, then checkout the revision that we are using. Something like this:</p>

<pre><code class="language-sh">git clone https://github.com/mit-pdos/xv6-public xv6
git checkout tags/xv6-rev8
</code></pre>

<p>xv6 is an entire OS, so much of the code will be irrelevant. <code>fs.h</code>
and <code>mkfs.c</code> are most relevant, along with a few others.</p>

<p><code>fs.h</code> defines the structures and parameters for xv6’s file system.</p>

<p><code>mkfs.c</code> is the program that actually creates file system. You can
compile it by running <code>gcc -Werror -Wall -std=gnu99 -o mkfs
mkfs.c</code>. Alternative you can use the Makefile by running <code>make mkfs</code>,
but note that you’ll need to first modify the Makefile target by
adding the <code>-std=gnu99</code> flag.</p>

<p>Once compiled, you can run <code>./mkfs fs.img</code> to make an xv6 file system
image. This image should not have any errors. It is highly recommended
that you copy <code>mkfs.c</code> (possibly several times) and modify the code to
create corrupted file system images. Then you can check that your
program finds the errors.</p>

<h3 id="submitting">Submitting</h3>

<p>Submit using <code>handin</code> on the department server:</p>

<pre><code class="language-bash">$ handin comp345 proj4 xcheck.c
</code></pre>

<p><strong>Due Wednesday, 05/03 by midnight.</strong></p>

			</div>
		</div>
		<!-- Load jQuery -->
<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>

<!-- Load Common JS -->
<script src="https://robertutterback.github.io/assets/js/common.js"></script>


<!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js"></script>
<!-- <script src="/assets/js/katex.js"></script> -->
<script src="https://robertutterback.github.io/assets/js/katex.js"></script>




<!-- Include custom icon fonts -->
<link rel="stylesheet" href="https://robertutterback.github.io/assets/css/font-awesome.min.css">
<link rel="stylesheet" href="https://robertutterback.github.io/assets/css/academicons.min.css">

<!-- <link rel="stylesheet" href="/assets/css/font-awesome.min.css"> -->
<!-- <link rel="stylesheet" href="/assets/css/academicons.min.css"> -->


<!-- Google Analytics -->
<!-- <script> -->
<!-- (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ -->
<!-- (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), -->
<!-- m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) -->
<!-- })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); -->

<!-- ga('create', 'UA-XXXXXXXX-X', 'auto'); -->
<!-- ga('send', 'pageview'); -->
<!-- </script> -->

	</body>
</html>
